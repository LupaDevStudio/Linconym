#:kivy 2.2.1
#:import LEVEL_ID_FONT_SIZE tools.constants.LEVEL_ID_FONT_SIZE

<LevelButton>:

    Widget:
        opacity: 0.8
        size: root.size
        pos: (0,0)
        canvas.before:
            Color:
                rgba: self.parent.primary_color if self.parent.is_unlocked else self.parent.secondary_color
            RoundedRectangle:
                pos:(0,0)
                size:self.size
                radius:[15,]
    
    Label:
        id: level_label
        text: root.level_label_text
        pos_hint: {"center_x":0.5, "center_y":0.65}
        font_size: LEVEL_ID_FONT_SIZE * root.font_ratio
        font_name: PATH_TEXT_FONT


    # Stars
    ThreeStars:
        id: three_stars
        pos_hint: {"center_x":0.5, "center_y":0.25}
        size_hint: (0.8,0.45)
        nb_stars: root.nb_stars
        primary_color: root.primary_color
        secondary_color: root.secondary_color

<StraightBranch>:
    # canvas.before:
    #     Color:
    #         rgba: (1,1,1,0.5)
    #     Rectangle:
    #         pos:self.pos
    #         size:self.size
    canvas:
        Color:
            rgba: self.color
        Line:
            # points: [(self.x,self.top),(self.right,self.top),(self.x,self.y),(self.right,self.y)]
            points: [self.x, self.center_y,self.right, self.center_y]
            width: 2
            cap: "none"


# <LevelBranch>:
#     canvas.before:
#         Color:
#             rgba: (1,1,1,0.5)
#         Rectangle:
#             pos:(0,0)
#             size:self.size


<CurveBranchTopLeft>:
    # canvas.before:
    #     Color:
    #         rgba: (1,1,1,0.5)
    #     Rectangle:
    #         pos:self.pos
    #         size:self.size
    canvas:
        Color:
            rgba: self.color
        Line:
            width: 2
            bezier: [self.x, self.top,self.center_x, self.top,self.center_x, self.y]
            cap: "none"

<CurveBranchTopRight>:
    canvas:
        Color:
            rgba: self.color
        Line:
            width: 2
            bezier: [self.right, self.top,self.center_x, self.top,self.center_x, self.y]
            cap: "none"

<CurveBranchBottomRight>:
    # canvas.before:
    #     Color:
    #         rgba: (1,1,1,0.5)
    #     Rectangle:
    #         pos:self.pos
    #         size:self.size
    canvas:
        Color:
            rgba: self.color
        Line:
            width: 2
            bezier: [self.right, self.y,self.center_x, self.y,self.center_x, self.top]
            cap: "none"

<CurveBranchBottomLeft>:
    # canvas.before:
    #     Color:
    #         rgba: (1,1,1,0.5)
    #     Rectangle:
    #         pos:self.pos
    #         size:self.size
    canvas:
        Color:
            rgba: self.color
        Line:
            width: 2
            bezier: [self.x, self.y,self.center_x, self.y,self.center_x, self.top]
            cap: "none"
