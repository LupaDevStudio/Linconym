#:kivy 2.2.1
#:import PATH_IMAGES tools.path.PATH_IMAGES
#: set CIRCLE_HEIGHT_RATIO 0.5

<BuyButton>:

    # Background
    canvas.before:
        Color:
            rgba: self.background_color
        RoundedRectangle:
            pos:(0,0)
            size:self.size
            radius:[20,]

    # Button title
    Label:
        text: root.button_title
        pos_hint: { "center_x":0.5,"center_y":0.8}
        size_hint: (1,0.7)
        text_size: (root.width*0.8,None)
        font_size: root.font_ratio * root.font_size
        font_name: root.text_font_name
        halign: "center"
        valign: "center"
        color: (0,0,0,1)

    Widget:
        id: selection_circle
        size: root.size
        pos: (0,0)
        canvas.before:
            Color:
                rgba: (0,0,0,1)
            Line:
                ellipse:(self.width/2-self.height*CIRCLE_HEIGHT_RATIO/2,self.height/10,self.height*CIRCLE_HEIGHT_RATIO,self.height*CIRCLE_HEIGHT_RATIO)
                width: 1.5

    Image:
        id: activated_image
        pos_hint: {"center_x":0.5, "center_y":0.3}
        size_hint: (0.4,0.4)
        source: PATH_IMAGES + "check.png"
        fit_mode: "contain"

    Label:
        id: price_label
        text: root.price_text
        size_hint: (0.1,0.3)
        pos_hint: { "right":0.4,"center_y":0.4}
        font_size: root.font_ratio * root.font_size
        font_name: root.text_font_name
        halign: "right"
        valign: "center"
        color: (0,0,0,1)
    
    Image:
        id: coins_image
        source: PATH_IMAGES + "coins.png"
        pos_hint: { "center_x":0.75,"center_y":0.4}
        size_hint: (0.3,0.3)
        fit_mode: "contain"
